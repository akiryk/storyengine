DROP TABLE users, stories, stories_users, chapters, story_chapter, options, chapter_option;

CREATE TABLE users (
  id MEDIUMINT NOT NULL AUTO_INCREMENT,
  firstname CHAR (30) NOT NULL,
  lastname CHAR (30) NOT NULL,
  username CHAR (30) NOT NULL,
  hashed_password CHAR (40) NOT NULL,
  admin TINYINT DEFAULT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE stories (
  id INT NOT NULL AUTO_INCREMENT,
  title CHAR (30) NOT NULL,
  first_chapter INT DEFAULT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE stories_users (
  id INT NOT NULL AUTO_INCREMENT,
  story_id INT NOT NULL,
  user_id INT NOT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE chapters (
  id INT NOT NULL AUTO_INCREMENT,
  content TEXT,
  beginning INT,
  endpoint INT,
  level INT,
  PRIMARY KEY (id)
);

CREATE TABLE story_chapter (
  id INT NOT NULL AUTO_INCREMENT,
  story_id INT,
  chapter_id INT,
  PRIMARY KEY (id)
);

CREATE TABLE options (
  id INT NOT NULL AUTO_INCREMENT,
  child_chapter INT DEFAULT 0,
  content CHAR (40),
  PRIMARY KEY (id)
);

CREATE TABLE chapter_option (
  id INT NOT NULL AUTO_INCREMENT,
  chapter_id INT,
  option_id INT,
  PRIMARY KEY (id)
);

